<!DOCTYPE html>
<html lang="ru">
<head>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    renderMathInElement(document.body, {
      delimiters: [
        {left: "$", right: "$", display: false},
        {left: "$$", right: "$$", display: true},
        {left: "\\(", right: "\\)", display: false},
        {left: "\[", right: "\]", display: true}
      ],
      ignoredTags: ["script", "noscript", "style", "textarea", "pre"],
      ignoredClasses: ['no-math'],
      onlyRenderAfterDOMContentLoaded: true,
      // –†–µ–Ω–¥–µ—Ä–∏–º —Ç–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç—ã —Å –∫–ª–∞—Å—Å–æ–º "—Ñ–æ—Ä–º—É–ª–∞"
      selectors: ['.—Ñ–æ—Ä–º—É–ª–∞']
    });
  });
</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±–∏–æ—Ä–∏—Ç–º–æ–≤ —ç–∫–æ–±–∏–æ–º–æ–¥—É–ª–µ–π v2.0</title>
    <link rel="stylesheet" href="styles_test9.css">
</head>
<body>
    <div class="header">
        <div class="header-content">
            <h1>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ5: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±–∏–æ—Ä–∏—Ç–º–æ–≤ —ç–∫–æ–±–∏–æ–º–æ–¥—É–ª–µ–π v2.0</h1>
            <p class="mission-text">
                <strong>–ó–∞–¥–∞—á–∞ –º–æ–¥—É–ª—è:</strong> –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —ç–º–µ—Ä–¥–∂–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –∏ —Å–∞–º–æ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ –º–Ω–æ–≥–æ–∞–≥–µ–Ω—Ç–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö 
                —á–µ—Ä–µ–∑ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –±–∏–æ—Ä–∏—Ç–º–æ–≤ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ç–æ–ø–æ–ª–æ–≥–∏–µ–π —Å–≤—è–∑–µ–π –∏ —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–∏–º–∏ –≤–æ–∑–º—É—â–µ–Ω–∏—è–º–∏
            </p>
            <button class="theme-toggle" id="theme-toggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
                <span class="theme-icon">üåô</span>
            </button>
        </div>
    </div>

    <div id="emergency-alert" class="emergency-alert" style="display: none;">
        ‚ö†Ô∏è –ê–í–ê–†–ò–ô–ù–ê–Ø –°–ò–¢–£–ê–¶–ò–Ø: –°–∏—Å—Ç–µ–º–∞ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞!
    </div>

    <div id="success-alert" class="success-alert" style="display: none;">
        ‚úÖ –°–ò–°–¢–ï–ú–ê –°–ò–ù–•–†–û–ù–ò–ó–ò–†–û–í–ê–ù–ê!
    </div>

    <div class="main-container">
        <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
        <div class="control-panel">
            <h2>üéõÔ∏è –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h2>

            <div class="parameter-group">
                <label for="coupling-strength">–°–∏–ª–∞ —Å–≤—è–∑–∏ ($K$)</label>
                <p class="param-description">–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏</p>
                <input type="range" id="coupling-strength" min="0" max="2" step="0.1" value="0.5">
                <div class="value-display" id="coupling-display">0.5</div>
            </div>

            <div class="parameter-group">
                <label for="frequency-spread">–†–∞–∑–±—Ä–æ—Å —á–∞—Å—Ç–æ—Ç ($œÉ$)</label>
                <p class="param-description">–ù–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —á–∞—Å—Ç–æ—Ç</p>
                <input type="range" id="frequency-spread" min="0.1" max="1" step="0.1" value="0.3">
                <div class="value-display" id="spread-display">0.3</div>
            </div>

            <div class="parameter-group">
                <label for="interaction-radius">–†–∞–¥–∏—É—Å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è ($R$)</label>
                <p class="param-description">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Å–µ–¥–µ–π, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å</p>
                <input type="range" id="interaction-radius" min="1" max="10" step="1" value="10">
                <div class="value-display" id="radius-display">10 (–ø–æ–ª–Ω–∞—è —Å–≤—è–∑—å)</div>
            </div>

            <div class="parameter-group">
                <label for="iterations">–í—Ä–µ–º—è –Ω–∞–±–ª—é–¥–µ–Ω–∏—è</label>
                <p class="param-description">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è</p>
                <input type="range" id="iterations" min="100" max="500" step="50" value="300">
                <div class="value-display" id="iterations-display">300 –∏—Ç–µ—Ä–∞—Ü–∏–π</div>
            </div>

            <div class="control-buttons">
                <button class="btn btn-primary" id="start-btn">‚ñ∂ –ó–∞–ø—É—Å–∫</button>
                <button class="btn btn-secondary" id="pause-btn">‚è∏ –ü–∞—É–∑–∞</button>
                <button class="btn btn-danger" id="reset-btn">üîÑ –°–±—Ä–æ—Å</button>
            </div>

            <div class="status-panel">
                <h3>üìä –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã</h3>
                <div class="stat-item">
                    <span>–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:</span>
                    <span class="stat-value" id="sync-level">0%</span>
                </div>
                <div class="stat-item">
                    <span>–ò—Ç–µ—Ä–∞—Ü–∏—è:</span>
                    <span class="stat-value" id="current-iteration">0</span>
                </div>
                <div class="stat-item">
                    <span>–í—Ä–µ–º—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:</span>
                    <span class="stat-value" id="sync-time">‚Äî</span>
                </div>
                <div class="stat-item">
                    <span>–ê–º–ø–ª–∏—Ç—É–¥–∞ —à—É–º–∞ ($\xi$):</span>
                    <span class="stat-value" id="noise-level">?</span>
                </div>
                <div class="stat-item">
                    <span>–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ $K$:</span>
                    <span class="stat-value" id="critical-k">~0.5</span>
                </div>
                <div class="status-message status-chaos" id="status-message">
                    –•–∞–æ—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                </div>
            </div>
        </div>

        <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ -->
        <div class="visualization-area">
            <h2>üî¨ –≠–∫–æ–±–∏–æ–º–æ–¥—É–ª–∏ –∫–æ—Ä–∞–±–ª—è</h2>
            <div class="canvas-container">
                <canvas id="oscillator-canvas" width="450" height="450"></canvas>
            </div>
            <div class="legend">
                <div class="legend-item">
                    <div class="color-indicator" style="background: #6c757d;"></div>
                    <span>–ü–∞—Å—Å–∏–≤–Ω–∞—è —Ñ–∞–∑–∞</span>
                </div>
                <div class="legend-item">
                    <div class="color-indicator" style="background: #00d4ff;"></div>
                    <span>–ê–∫—Ç–∏–≤–Ω–∞—è —Ñ–∞–∑–∞</span>
                </div>
                <div class="legend-item">
                    <div class="color-indicator" style="background: #50fa7b;"></div>
                    <span>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</span>
                </div>
            </div>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å —Å –≥—Ä–∞—Ñ–∏–∫–æ–º -->
        <div class="chart-area">
            <h2>üìà –ü–∞—Ä–∞–º–µ—Ç—Ä –ø–æ—Ä—è–¥–∫–∞ $r(t)$</h2>
            <canvas id="order-chart" width="330" height="250"></canvas>
            <div class="chart-description">
                <strong>–ü–∞—Ä–∞–º–µ—Ç—Ä –ø–æ—Ä—è–¥–∫–∞ ($r$):</strong><br>
                ‚Ä¢ r = 0 ‚Üí –ø–æ–ª–Ω—ã–π —Ö–∞–æ—Å<br>
                ‚Ä¢ r = 1 ‚Üí –ø–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è<br><br>
                <strong>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ v2.0:</strong><br>
                ‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–¥–∏—É—Å–æ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è<br>
                ‚Ä¢ –°–ª—É—á–∞–π–Ω—ã–π —à—É–º –¥–æ–±–∞–≤–ª—è–µ—Ç —Ä–µ–∞–ª–∏–∑–º<br>
                ‚Ä¢ –í—ã–≤–æ–¥ —Ñ–æ—Ä–º—É–ª –ø–æ—Å–ª–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ -->
    <div id="results-modal" class="modal">
        <div class="modal-content">
            <h2>üìã –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞</h2>
            
            <div class="formula-section">
                <h3>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã</h3>
                <div class="formula">
<!--                    –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π Œ∏·µ¢(t+1) = Œ∏·µ¢(t) + œâ·µ¢ + (K/N_eff) Œ£‚±º‚ààneighbors(i,R) sin(Œ∏‚±º(t) - Œ∏·µ¢(t)) + Œæ¬∑Œ∑(t)-->
                    $\theta_i(t+1) = \theta_i(t) + w_i + \left( {K \over N_eff} \right) \sum_{j \in Neighbors(i,R)} sin(\theta_j(t) - \theta_i(t)) + \xi \cdot \eta \\$

                </div>
                <p style="color: var(--text-secondary-x); margin-top: 10px; font-size: 16px;">
<!--                    –≥–¥–µ $N_eff$ ‚Äî —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Å–µ–¥–µ–π –≤ —Ä–∞–¥–∏—É—Å–µ $R$,<br>-->
<!--                    $\xi$ ‚Äî –∞–º–ø–ª–∏—Ç—É–¥–∞ —à—É–º–∞, $\eta{(t)} \sim N{(0,1)}$ ‚Äî –≥–∞—É—Å—Å–æ–≤—Å–∫–∏–π —à—É–º-->
                    –≥–¥–µ:<br>


                    - $\theta_i$ ‚Äî —Ñ–∞–∑–∞ i-–≥–æ –º–æ–¥—É–ª—è –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ t<br>
                    - $w_i$ ‚Äî —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ i-–≥–æ –º–æ–¥—É–ª—è<br>
                    - $K$ ‚Äî —Å–∏–ª–∞ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ (—É–ø—Ä–∞–≤–ª—è—é—â–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä)<br>
                    - $R$ ‚Äî —Ä–∞–¥–∏—É—Å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (—É–ø—Ä–∞–≤–ª—è–µ–º—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä)<br>
                    - $N_eff$ ‚Äî —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Å–µ–¥–µ–π –≤ —Ä–∞–¥–∏—É—Å–µ $R$<br>
                    - $Neighbors{(i,R)}$ ‚Äî –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–Ω–¥–µ–∫—Å–æ–≤ —Å–æ—Å–µ–¥–µ–π –Ω–∞ –∫–æ–ª—å—Ü–µ<br>
                    - $\xi$ ‚Äî –∞–º–ø–ª–∏—Ç—É–¥–∞ —à—É–º–∞ (—Å–ª—É—á–∞–π–Ω—ã–π —Å–∫—Ä—ã—Ç—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä)<br>
                    - $\eta{(t)} \sim N{(0,1)}$ ‚Äî –≥–∞—É—Å—Å–æ–≤—Å–∫–∏–π –±–µ–ª—ã–π —à—É–º<br>
                </p>
                
                <div class="formula" style="margin-top: 15px;">
<!--r(t) = |1/N Œ£‚±º‚Çå‚ÇÅ·¥∫ exp(iŒ∏‚±º(t))|-->
                    $r(t) = \left| \frac{1}{N} \sum_{j=1}^{N} e^{i\theta_j(t)} \right|$
                </div>
                <p style="color: var(--text-secondary-x); margin-top: 10px; font-size: 16px;">
                    –ü–∞—Ä–∞–º–µ—Ç—Ä –ø–æ—Ä—è–¥–∫–∞ ‚Äî –º–µ—Ä–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã
                </p>
            </div>

            <div class="formula-section">
                <h3>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞</h3>
                <table class="param-table">
                    <thead>
                        <tr>
                            <th>–ü–∞—Ä–∞–º–µ—Ç—Ä</th>
                            <th>–ó–Ω–∞—á–µ–Ω–∏–µ</th>
                            <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                        </tr>
                    </thead>
                    <tbody id="params-table-body">
                    </tbody>
                </table>
            </div>

            <button class="close-btn" onclick="closeModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π JavaScript -->
    <script src="js/ThemeManager.js"></script>
    <script src="js/KuramotoSimulator.js"></script>
    <script src="js/ChartRenderer.js"></script>
    <script src="js/UIController.js"></script>
    <script src="js/main.js"></script>
</body>
</html>