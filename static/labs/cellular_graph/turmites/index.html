<!DOCTYPE html>

<!--
  –ü—Ä–æ–µ–∫—Ç: –¢—É—Ä–º–∏—Ç—ã / –ú—É—Ä–∞–≤–µ–π –õ—ç–Ω–≥—Ç–æ–Ω–∞ ‚Äî —É—á–µ–±–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è
  –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
    ‚Ä¢ –ß–∏—Å—Ç—ã–π HTML/CSS/JS (ES-–º–æ–¥—É–ª–∏), –±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤.
    ‚Ä¢ –î–≤–∞ —Ä–µ–∂–∏–º–∞: ¬´–ù–∞—Å—Ç—Ä–æ–π–∫–∞¬ª –∏ ¬´–†–∞–±–æ—Ç–∞¬ª.
    ‚Ä¢ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ –°—Ç–∞—Ä—Ç/–ø–µ—Ä–µ—Ö–æ–¥ –≤ ¬´–†–∞–±–æ—Ç–∞¬ª.
    ‚Ä¢ –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ –º–µ–Ω—è–ª–∏—Å—å ‚Äî –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å –º–µ—Å—Ç–∞ –ø–∞—É–∑—ã.
    ‚Ä¢ –ü—Ä–∞–≤–∏–ª–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –¥–µ–π—Å—Ç–≤–∏—è: L/R/F/U.
    ‚Ä¢ CSS-—Å–ª–æ–π —Å–µ—Ç–∫–∏ (—á—ë—Ç–∫–∞—è, –±–µ–∑ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –ø—Ä–∏ –∑—É–º–µ).
    ‚Ä¢ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –º–∞–∫—Å–∏–º—É–º 16 –º—É—Ä–∞–≤—å—ë–≤.
    ‚Ä¢ –•–æ—Ç–∫–µ–∏: –ü—Ä–æ–±–µ–ª ‚Äî —Å—Ç–∞—Ä—Ç/–ø–∞—É–∑–∞, N ‚Äî —à–∞–≥.
-->
<html lang="ru">
<head>
  <link rel="icon" type="image/x-icon" href="img/favicon.ico">
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>–ú—É—Ä–∞–≤–µ–π –õ—ç–Ω–≥—Ç–æ–Ω–∞ ‚Ä¢ –¢—É—Ä–º–∏—Ç—ã</title>
  <link href="./styles.css" rel="stylesheet"/>
</head>
<body>
<header class="app-header">
  <div class="title">
    <h1><span class="badge">–ú—É—Ä–∞–≤–µ–π –õ—ç–Ω–≥—Ç–æ–Ω–∞</span> ‚Ä¢ <span class="badge alt">–¢—É—Ä–º–∏—Ç—ã</span></h1>
    <p>–°–∏–º—É–ª—è—Ü–∏—è –∫–ª–µ—Ç–æ—á–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞</p>
  </div>
  <div class="theme-switch">
    <label for="themeSelect">–¢–µ–º–∞</label>
    <select aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã" id="themeSelect">
      <option value="dark">–¢—ë–º–Ω–∞—è</option>
      <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
    </select>
  </div>
</header>

<main class="layout">
  <!-- –õ–ï–í–ê–Ø –í–ï–†–¢–ò–ö–ê–õ–¨–ù–ê–Ø –õ–ï–ù–¢–ê: –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ -->
  <section aria-label="–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è" class="controls" id="controls">
    <div class="group">
      <h2>–†–µ–∂–∏–º</h2>
      <div class="row">
        <button aria-pressed="true" class="secondary" id="modeSetup">–ù–∞—Å—Ç—Ä–æ–π–∫–∞</button>
        <button aria-pressed="false" class="secondary" id="modeRun">–†–∞–±–æ—Ç–∞</button>
      </div>
    </div>

    <div aria-live="polite" class="group" id="setupPanel">
      <h2>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã</h2>
      <!-- –ú–µ–Ω—å—à–µ –∫–ª–µ—Ç–æ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —á—Ç–æ–±—ã –∫–∞—Ä—Ç–∏–Ω–∫–∞ –±—ã–ª–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ –∫—Ä—É–ø–Ω–µ–µ -->
      <label>–®–∏—Ä–∏–Ω–∞, –∫–ª–µ—Ç–æ–∫
        <input id="gridWidth" max="220" min="30" step="10" type="number" value="120"/>
      </label>
      <label>–í—ã—Å–æ—Ç–∞, –∫–ª–µ—Ç–æ–∫
        <input id="gridHeight" max="160" min="20" step="10" type="number" value="80"/>
      </label>
      <label>–ü—Ä–∞–≤–∏–ª–æ (–Ω–∞–ø—Ä. <code>RL</code>, <code>RLF</code>, <code>RLUF</code>)
        <input id="ruleInput" maxlength="64" type="text" value="RL"/>
      </label>
      <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º—É—Ä–∞–≤—å—ë–≤
        <input id="antsCount" max="16" min="1" type="number" value="1"/>
      </label>
      <small>–ü–æ–ª–µ —Ç–æ—Ä–æ–∏–¥–∞–ª—å–Ω–æ (–≤—ã—Ö–æ–¥ –∑–∞ –∫—Ä–∞—è ‚Äî –≤—Ö–æ–¥ —Å –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã).</small>
      <div aria-hidden="true" class="lock-hint">üîí –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ –≤ —Ä–µ–∂–∏–º–µ ¬´–†–∞–±–æ—Ç–∞¬ª</div>
    </div>

    <div class="group">
      <h2>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–æ–ª—è <small class="muted">(–õ–ö–ú –ø–æ –∫–ª–µ—Ç–∫–µ)</small></h2>
      <div class="tools">
        <div class="tool">
          <input checked="" id="toolAntAdd" name="tool" type="radio" value="antAdd"/>
          <label for="toolAntAdd" title="–õ–ö–ú –ø–æ –∫–ª–µ—Ç–∫–µ ‚Äî —Å–æ–∑–¥–∞—Ç—å –º—É—Ä–∞–≤—å—è">–°–æ–∑–¥–∞—Ç—å –º—É—Ä–∞–≤—å—è</label>
        </div>
        <div class="tool">
          <input id="toolAntErase" name="tool" type="radio" value="antErase"/>
          <label for="toolAntErase" title="–õ–ö–ú –ø–æ –∫–ª–µ—Ç–∫–µ ‚Äî —É–¥–∞–ª–∏—Ç—å –º—É—Ä–∞–≤—å—è (–µ—Å–ª–∏ –µ—Å—Ç—å)">"–†–∞–∑–¥–∞–≤–∏—Ç—å" –º—É—Ä–∞–≤—å—è</label>
        </div>
      </div>
      <div class="legend">
        <div><strong>–ú—É—Ä–∞–≤—å–∏:</strong> <span id="antsIndicator">0/16</span></div>
        <small>–ú–∞–∫—Å–∏–º—É–º 16. –¶–≤–µ—Ç –º—É—Ä–∞–≤—å—è ‚Äî —Ç–æ–ª—å–∫–æ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è.</small>
      </div>
    </div>

    <!-- –ó–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω–∞—è ‚Äú–ª–µ–Ω—Ç–∞‚Äù –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–æ–ª–æ–≤ -->
    <div class="group sticky">
      <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h2>
      <div class="row">
        <button id="startBtn">–°—Ç–∞—Ä—Ç</button>
        <button class="danger" id="stopBtn">–ü–∞—É–∑–∞</button>
        <button class="secondary" id="stepBtn">–ü–æ—à–∞–≥–æ–≤–æ</button>
        <button class="secondary" id="resetBtn">–°–±—Ä–æ—Å</button>
      </div>
      <label>–°–∫–æ—Ä–æ—Å—Ç—å (—à–∞–≥/—Å)
        <input id="speedRange" max="60" min="1" type="range" value="10"/>
      </label>
    </div>

    <div class="group">
      <h2>–í–∏–¥</h2>
      <label class="toggle">
        <input id="toggleGrid" type="checkbox"/>
        <span>–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–µ—Ç–∫—É</span>
      </label>
    </div>

    <div class="group">
      <h2>–°—Ö–µ–º–∞ –ø—Ä–∞–≤–∏–ª–∞</h2>
      <div class="rule-legend" id="ruleLegend"></div>
      <div class="note">
        <small>–õ–µ–≥–µ–Ω–¥–∞: —Ü–≤–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–ª–µ—Ç–∫–∏ ‚Üí –¥–µ–π—Å—Ç–≤–∏–µ (L/R/F/U). –ß–∏—Å–ª–æ —Å–æ—Å—Ç–æ—è–Ω–∏–π = –¥–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏ –ø—Ä–∞–≤–∏–ª–∞.</small>
      </div>
    </div>

    <div class="group">
      <h2>–ü—Ä–µ—Å–µ—Ç—ã</h2>
      <h3 class="subhead">–ú—É—Ä–∞–≤–µ–π –õ—ç–Ω–≥—Ç–æ–Ω–∞ (2 —Ü–≤–µ—Ç–∞)</h3>
      <div class="patterns" id="patternsLangton"></div>
      <h3 class="subhead">–¢—É—Ä–º–∏—Ç—ã (3+ —Ü–≤–µ—Ç–æ–≤)</h3>
      <div class="patterns" id="patternsTurmites"></div>
    </div>

    <div class="group">
      <h2>–¢–µ–æ—Ä –±–∞–∑–∞</h2>
      <div class="note" style="line-height:1.4">
        <div><code>T = (S, Q, Œ£, Œ¥, s‚ÇÄ)</code> ‚Äî —Ç—É—Ä–º–∏—Ç.</div>
        <div><strong>S</strong>: –∫–æ–Ω–µ—á–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–ª–µ—Ç–æ–∫ (—Ü–≤–µ—Ç–∞), |S| = n.</div>
        <div><strong>Q</strong>: –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º—É—Ä–∞–≤—å—è {‚Üë,‚Üí,‚Üì,‚Üê}.</div>
        <div><strong>Œ£</strong>: –¥–µ–π—Å—Ç–≤–∏—è {<code>L</code>, <code>R</code>, <code>F</code>, <code>U</code>}:
          L ‚Äî –≤–ª–µ–≤–æ, R ‚Äî –≤–ø—Ä–∞–≤–æ, F ‚Äî –≤–ø–µ—Ä—ë–¥ (–±–µ–∑ –ø–æ–≤–æ—Ä–æ—Ç–∞), U ‚Äî —Ä–∞–∑–≤–æ—Ä–æ—Ç (180¬∞).</div>
        <div><strong>Œ¥</strong>: <code>Q √ó S ‚Üí Q √ó S √ó Œ£</code>. –£ –Ω–∞—Å –ø—Ä–∞–≤–∏–ª–æ ‚Äî —Å—Ç—Ä–æ–∫–∞ –¥–ª–∏–Ω—ã n. i-–π —Å–∏–º–≤–æ–ª –∑–∞–¥–∞—ë—Ç –¥–µ–π—Å—Ç–≤–∏–µ –≤ —Ü–≤–µ—Ç–µ i.</div>
        <div>–®–∞–≥: (1) –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ü–≤–µ—Ç i; (2) –ø–æ–≤–µ—Ä–Ω—É—Ç—å –ø–æ —Å–∏–º–≤–æ–ª—É; (3) –ø–µ—Ä–µ–∫—Ä–∞—Å–∏—Ç—å –≤ (i+1 mod n); (4) —à–∞–≥ –≤–ø–µ—Ä—ë–¥.</div>
        <div>–ü—Ä–∏–º–µ—Ä—ã: <code>RL</code> ‚Äî –∫–ª–∞—Å—Å–∏–∫–∞; <code>RLF</code> ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω ¬´–ø—Ä—è–º–æ–π¬ª; <code>RLUF</code> ‚Äî —Å —Ä–∞–∑–≤–æ—Ä–æ—Ç–æ–º.</div>
      </div>
    </div>

    <div class="group">
      <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
      <div class="stats">
        <div>–®–∞–≥–æ–≤: <span id="stepCounter">0</span></div>
        <div>–í—Ä–µ–º—è: <span id="timer">00:00</span></div>
        <div>FPS: <span id="fps">0</span></div>
      </div>
    </div>
  </section>

  <!-- –ü–†–ê–í–ê–Ø –û–ë–õ–ê–°–¢–¨: –∫–∞–Ω–≤–∞—Å -->
  <section class="canvas-wrap">
    <!-- –†–µ–Ω–¥–µ—Ä –∫–ª–µ—Ç–æ–∫/–º—É—Ä–∞–≤—å—ë–≤ ‚Äî canvas; —Å–µ—Ç–∫–∞ ‚Äî overlay –ø–æ–≤–µ—Ä—Ö -->
    <canvas aria-label="–ü–æ–ª–µ —Å–∏–º—É–ª—è—Ü–∏–∏" height="640" id="viewport" width="960"></canvas>
    <div aria-hidden="true" class="grid-overlay" id="gridOverlay"></div>
  </section>
</main>

<footer class="app-footer">
  <small></small>
  <small style="margin-left:12px;">–ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏: <strong>–ü—Ä–æ–±–µ–ª</strong> ‚Äî —Å—Ç–∞—Ä—Ç/–ø–∞—É–∑–∞, <strong>N</strong> ‚Äî –æ–¥–∏–Ω —à–∞–≥</small>
</footer>

<script src="./js/main.js" type="module"></script>
</body>
</html>
