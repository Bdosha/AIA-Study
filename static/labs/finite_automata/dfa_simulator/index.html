<!-- index.html - –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø -->
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü§ñ –£–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–æ–≤ (NFA)</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://unpkg.com/vis-network/styles/vis-network.min.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <div class="app-container">
        <div class="header">
            <h1>ü§ñ –£–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–æ–≤ (NFA)</h1>
            <p>–í–∏–∑—É–∞–ª—å–Ω–æ–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–∏–º—É–ª—è—Ü–∏—è –Ω–µ–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–Ω—ã—Ö —Å–∏—Å—Ç–µ–º</p>
        </div>

        <div class="page-navigation">
            <button class="nav-btn active" data-page="constructor">üèóÔ∏è –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</button>
            <button class="nav-btn" data-page="visualization">üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è</button>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ -->
        <div id="constructor-page" class="page active">
        <div id="preset-buttons" class="preset-buttons"></div>
        
        <div class="section">
                <h2>üî§ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–ª—Ñ–∞–≤–∏—Ç–∞</h2>
                <div class="alphabet-controls">
                    <div class="form-group checkbox-group" style="display: flex; align-items: center;">
                        <label for="use-custom-alphabet" style="margin: 0;">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–ª—Ñ–∞–≤–∏—Ç</label>
                        <input type="checkbox" id="use-custom-alphabet" style="margin: 0; margin-right: 900px;">
                    </div>
                    <div id="custom-alphabet-input" style="display: none;">
                        <div class="form-group">
                            <input type="text" id="custom-alphabet-text" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–∏–º–≤–æ–ª—ã —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª (a b c)">
                        </div>
                        <button id="apply-custom-alphabet" class="btn-secondary">–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∞–ª—Ñ–∞–≤–∏—Ç</button>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2>üèóÔ∏è –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–æ–≤</h2>
                <div id="automaton-form"></div>
            </div>

            <div class="section">
                <h2>üîó –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –∞–≤—Ç–æ–º–∞—Ç–∞–º–∏</h2>
                <div class="connection-controls">
                    <div class="form-group">
                        <label>üì§ –ò–∑ –∞–≤—Ç–æ–º–∞—Ç–∞:</label>
                        <select id="connection-from-automaton">
                            <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç --</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>üè∑Ô∏è –ò–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è:</label>
                        <select id="connection-from-state">
                            <option value="">-- –°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç --</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>üì• –í –∞–≤—Ç–æ–º–∞—Ç:</label>
                        <select id="connection-to-automaton">
                            <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç --</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>üéØ –í —Å–æ—Å—Ç–æ—è–Ω–∏–µ:</label>
                        <select id="connection-to-state">
                            <option value="">-- –°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç --</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>üî§ –°–∏–º–≤–æ–ª-—Ç—Ä–∏–≥–≥–µ—Ä (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
                        <input type="text" id="connection-trigger" placeholder="a, b, c –∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º">
                    </div>
                    <button id="create-connection-btn" class="btn-primary">üîó –°–æ–∑–¥–∞—Ç—å —Å–≤—è–∑—å</button>
                    <button id="clear-connections" class="btn-secondary">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —Å–≤—è–∑–∏</button>
                </div>
            </div>

            <div class="section">
                <h2>ü§ñ –ê–≤—Ç–æ–º–∞—Ç—ã —Å–∏—Å—Ç–µ–º—ã</h2>
                <div id="automata-list"></div>
                <div id="connections-list"></div>
                <div id="alphabet-display"></div>
            </div>

            <div class="section">
                <h2>üíæ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π</h2>
                <div class="system-controls">
                    <button id="save-system" class="btn-primary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–∏—Å—Ç–µ–º—É</button>
                    <button id="load-system" class="btn-secondary">üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–∏—Å—Ç–µ–º—É</button>
                    <input type="file" id="system-file-input" accept=".json" style="display: none;">
                    <button id="clear-system" class="btn-danger">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É</button>
                </div>
            </div>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ -->
        <div id="visualization-page" class="page">
            <div class="section">
                <h2>üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã</h2>
                
                <div class="visualization-controls">
                    <div class="compact-controls">
                        <input type="text" id="vis-input-string" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–∏–º–≤–æ–ª—ã —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª (a b c)" value="">
                        <button id="vis-run-simulation" class="btn-primary">‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å</button>
                        <button id="vis-reset-simulation" class="btn-secondary">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button>
                        <button id="step-by-step" class="btn-info">üîç –ü–æ—à–∞–≥–æ–≤–æ</button>
                        <button id="export-graph" class="btn-success">üíæ –≠–∫—Å–ø–æ—Ä—Ç –≥—Ä–∞—Ñ–∞</button>
                    </div>
                </div>

                <div id="network-container">
                    <div id="network"></div>
                </div>

                <div class="graph-legend">
                    <div class="legend-item">
                        <div class="legend-color start-state"></div>
                        <span>–ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color final-state"></div>
                        <span>–ö–æ–Ω–µ—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color current-state"></div>
                        <span>–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-line internal-transition"></div>
                        <span>–ü–µ—Ä–µ—Ö–æ–¥ (—Å–∏–Ω–∏–π)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-line system-connection"></div>
                        <span>–°–≤—è–∑—å –º–µ–∂–¥—É –∞–≤—Ç–æ–º–∞—Ç–∞–º–∏ (—Ä–æ–∑–æ–≤—ã–π)</span>
                    </div>
                </div>

                <div class="step-navigation">
                    <button id="first-step" class="btn-nav">‚èÆÔ∏è</button>
                    <button id="prev-step" class="btn-nav">‚óÄÔ∏è</button>
                    <span id="step-counter">–®–∞–≥ 0/0</span>
                    <button id="next-step" class="btn-nav">‚ñ∂Ô∏è</button>
                    <button id="last-step" class="btn-nav">‚è≠Ô∏è</button>
                </div>

                <div class="simulation-status">
                    <h3>üéØ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã</h3>
                    <div id="current-states-display"></div>
                </div>
            </div>
            
            <div class="section">
                <h2>üìã –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∏–º—É–ª—è—Ü–∏–∏</h2>
                <div id="simulation-result" class="simulation-result"></div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <script src="automata.js"></script>
    <script src="system.js"></script>
    <script src="examples.js"></script>
    <script src="sequential.js"></script>
    <script src="ui.js"></script>
    <script src="app.js"></script>
</body>
</html>