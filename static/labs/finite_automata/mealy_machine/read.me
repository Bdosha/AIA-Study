README - ПЕРЕДЕЛАННЫЙ ИНТЕРФЕЙС СИМУЛЯТОРА АВТОМАТА МИЛИ
========================================================

КРАТКОЕ ОПИСАНИЕ ИЗМЕНЕНИЙ
==========================

Была выполнена полная переработка интерфейса и визуализации симулятора автомата Мили 
в соответствии с требованием о повышении эстетики и исправлении проблем с рёбрами графа.

ОСНОВНЫЕ УЛУЧШЕНИЯ
===================

1. ✓ ИСПРАВЛЕНИЕ СТРЕЛОК И РЁБЕР
   ==============================
   ПРОБЛЕМА (было):
   - Стрелки выглядели неаккуратно
   - Текст переходов (input/output) накладывался на линии
   - Параллельные рёбра пересекались беспорядочно
   
   РЕШЕНИЕ (стало):
   - Реализованы кривые Безье с умными контрольными точками
   - Динамический расчёт смещения меток перпендикулярно к ребру
   - Автоматическое разведение параллельных рёбер без пересечений
   - Метки размещены в полупрозрачных прямоугольниках для читаемости
   - Петли (самопереходы) отрисовываются элегантно с особой геометрией
   - Стрелки увеличены и расширены для лучшей видимости

2. ✓ КРАСИВЫЙ ИНТЕРФЕЙС
   =====================
   - Полная переработка CSS с использованием переменных
   - Светлая и тёмная темы с гладкими переходами
   - Современный дизайн кнопок, форм и панелей
   - Ясная иерархия информации на боковой панели
   - Улучшенная типография и расстояния между элементами
   - Адаптивный макет для разных размеров экрана

3. ✓ ПРОФЕССИОНАЛЬНЫЙ КОД
   =======================
   - Все файлы содержат подробные комментарии на русском языке
   - Деловой стиль комментариев без эмодзи и разговорных фраз
   - JSDoc документация для функций
   - Объяснение алгоритмов и ключевых решений
   - Понятные названия переменных и функций

ОСНОВНЫЕ ФАЙЛЫ И ИХ НОВЫЕ СВОЙСТВА
===================================

graphVisualizer.js (ПЕРЕПИСАН)
  - Новые константы для настройки парамет ров визуализации
  - Функция computeGridPositions() - оптимальное размещение вершин
  - Функция computeLabelOffset() - расчёт позиции меток
  - Оптимизированный расчёт кривых для параллельных рёбер
  - Поддержка светлой/тёмной темы через CSS переменные

style.css (ПОЛНОСТЬЮ ПЕРЕРАБОТАН)
  - CSS переменные для обеих тем (:root и :root.dark)
  - Унифицированная система цветов и типографии
  - Современные стили для всех компонентов
  - Адаптивность и media queries
  - Улучшенные тени и границы

controlsManager.js (ДОКУМЕНТИРОВАН И ОПТИМИЗИРОВАН)
  - Подробные комментарии для каждой функции
  - Лучшая обработка ошибок
  - Константы для управления временем симуляции

tableVisualizer.js (УЛУЧШЕН)
  - Лучшая форматирование таблицы
  - Читаемость с использованием моноширинного шрифта

mealySimulator.js (ДОКУМЕНТИРОВАН)
  - JSDoc комментарии
  - Улучшенные сообщения об ошибках

automatonParser.js (ДОКУМЕНТИРОВАН)
  - Подробное объяснение процесса парсинга
  - Улучшенные сообщения об ошибках

validator.js (ДОКУМЕНТИРОВАН)
  - Ясные комментарии о проверяемых условиях

animationManager.js (ПЕРЕПИСАН)
  - Управляемая длительность подсветки
  - Ясная организация кода

themeSwitcher.js (УЛУЧШЕН)
  - Более надёжная работа с localStorage
  - Лучшая обработка ошибок

index.html (ПЕРЕРАБОТАН)
  - Новая структура с ясными разделами
  - Информативные справки в модальном окне
  - Правильный порядок загрузки скриптов
  - Улучшенная семантика HTML

ТЕХНИЧЕСКИЕ РЕШЕНИЯ
===================

1. РИСОВАНИЕ РЁБЕР БЕЗ ПЕРЕСЕЧЕНИЙ
   - Использование bezier кривых вместо прямых линий
   - Расчёт индекса параллельного ребра для смещения
   - Применение разных контрольных расстояний в зависимости от позиции
   - Для петель: специальная геометрия с дугой над узлом

2. ДИНАМИЧЕСКОЕ ПОЗИЦИОНИРОВАНИЕ МЕТОК
   - Расчёт перпендикулярного вектора к ребру
   - Применение коэффициента смещения для читаемости
   - Фоновые прямоугольники для контраста
   - Автоматический поворот текста для выравнивания с ребром

3. СИСТЕМА ТЕМ
   - CSS переменные для всех цветов
   - Переключение класса 'dark' на root элементе
   - Сохранение выбора в localStorage
   - Event-driven обновление компонентов при смене темы

КАК ИСПОЛЬЗОВАТЬ ПЕРЕДЕЛАННЫЕ ФАЙЛЫ
====================================

1. Заменить все .js файлы на переписанные версии
2. Заменить style.css на новую версию
3. Заменить index.html на новую версию
4. Файлы будут автоматически синхронизированы через события

ТЕСТИРОВАНИЕ
============

Перед использованием рекомендуется проверить:
1. Граф отрисовывается без ошибок
2. Стрелки расположены аккуратно без наложений
3. Текст переходов читается без перекрытий
4. Светлая тема активируется без проблем
5. Тёмная тема активируется без проблем
6. Симуляция работает плавно со скоростью 700ms за шаг

ДОКУМЕНТАЦИЯ
============

- CHANGELOG.txt - подробный журнал всех изменений
- Комментарии в коде объясняют логику на русском языке
- Каждая функция имеет JSDoc документацию
- Константы чётко подписаны в начале файлов

ПОДДЕРЖКА
=========

При возникновении вопросов или проблем:
1. Проверьте консоль браузера (F12) на ошибки
2. Убедитесь, что все скрипты загружены (вкладка Network)
3. Проверьте, что Cytoscape.js загружается с CDN
4. Очистите кэш браузера и перезагрузите

ВЕРСИЯ
======
2.0 - 26.11.2025
Переработка выполнена в соответствии с техническими требованиями
и документацией лабораторной работы НИЯУ МИФИ.