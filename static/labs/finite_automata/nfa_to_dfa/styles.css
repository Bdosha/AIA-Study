/* Стиль приложения: темы, макет, кнопки, таблицы, холст */
:root {
  --bg: #0f1115;
  --panel: #151924;
  --text: #e6e9ef;
  --muted: #9aa4b2;
  --accent: #4da3ff;
  --accent-2: #7bd88f;
  --border: #2a3040;
  --danger: #ff6b6b;
  --btn: #1a2030;
}

html[data-theme="light"] {
  --bg: #f6f7fb;
  --panel: #ffffff;
  --text: #0b0f19;
  --muted: #5a6573;
  --accent: #246bce;
  --accent-2: #2f9e44;
  --border: #dbe0ea;
  --btn: #eef1f6;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  color: var(--text);
  background: var(--bg);
}

.app-header, .app-footer {
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 16px; background: var(--panel); border-bottom: 1px solid var(--border);
}
.app-footer { border-top: 1px solid var(--border); border-bottom: none; }

.app-main { display: grid; grid-template-columns: 280px 1fr 360px; gap: 12px; padding: 12px; }

.sidebar { display: flex; flex-direction: column; gap: 12px; }
.panel {
  background: var(--panel); border: 1px solid var(--border); border-radius: 10px;
  padding: 12px; box-shadow: 0 0 0 1px rgba(0,0,0,0.02) inset;
}
.panel h2 { font-size: 14px; margin: 0 0 8px 0; color: var(--muted); font-weight: 600; text-transform: uppercase; letter-spacing: .04em; }

.canvas-wrap { position: relative; background: var(--panel); border: 1px solid var(--border); border-radius: 10px; }
.canvas-toolbar { display: flex; align-items: center; gap: 8px; padding: 8px; border-bottom: 1px solid var(--border); }
.graph-svg { width: 100%; height: calc(700px); display: block; background: linear-gradient(transparent 24px, rgba(255,255,255,.02) 25px) 0 0/25px 25px; }

.btn, .seg {
  border: 1px solid var(--border); background: var(--btn); color: var(--text);
  padding: 8px 10px; border-radius: 8px; cursor: pointer; font-size: 14px;
}
.btn:hover, .seg:hover { border-color: var(--accent); }
.btn.primary { background: var(--accent); border-color: var(--accent); color: white; }
.btn.ghost { background: transparent; }
.btn-row { display: flex; gap: 6px; flex-wrap: wrap; }

.segmented { display: flex; gap: 0; border: 1px solid var(--border); border-radius: 8px; overflow: hidden; }
.seg { background: transparent; border: none; padding: 8px 12px; }
.seg + .seg { border-left: 1px solid var(--border); }
.seg.active { background: var(--accent); color: white; }

.input {
  width: 100%; padding: 8px 10px; background: var(--btn); border: 1px solid var(--border);
  color: var(--text); border-radius: 8px; margin-bottom: 6px;
}

.table { width: 100%; border-collapse: collapse; font-size: 14px; }
.table th, .table td { border-bottom: 1px solid var(--border); padding: 6px 8px; text-align: left; }
.table thead th { color: var(--muted); text-transform: uppercase; font-size: 12px; }

.tabbar { display: flex; gap: 6px; margin-bottom: 8px; }
.tab { background: var(--btn); border: 1px solid var(--border); border-radius: 8px; padding: 6px 10px; cursor: pointer; }
.tab.active { background: var(--accent); color: white; border-color: var(--accent); }
.tabcontent { display: none; }
.tabcontent.active { display: block; }

.log { min-height: 160px; white-space: pre-wrap; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; color: var(--muted); }

.header-actions { display: flex; align-items: center; gap: 8px; }
.meta { color: var(--muted); font-size: 13px; }
.spacer { flex: 1; }

/* Адаптив */
@media (max-width: 1100px) {
  .app-main { grid-template-columns: 1fr; }
  .sidebar.left, .sidebar.right { order: 2; }
  .canvas-wrap { order: 1; }
}

.graph-svg text { font-weight: 500; }

/* Вкладки */
.tabbar .tab { transition: color 0.2s ease; }
html[data-theme="dark"] .tabbar .tab { color: #ffffff; }
html[data-theme="dark"] .tabbar .tab.active { color: #ffffff; font-weight: 600; }
html[data-theme="light"] .tabbar .tab { color: #1a1a1a; }
html[data-theme="light"] .tabbar .tab.active { color: #000000; font-weight: 600; }