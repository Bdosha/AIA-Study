<!--
    –§–∞–π–ª: index.html
    –û–ø–∏—Å–∞–Ω–∏–µ: –ì–ª–∞–≤–Ω–∞—è HTML-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–π –∂–∏–∑–Ω–∏
    
    –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
    - –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∏ –æ–ø–∏—Å–∞–Ω–∏–µ–º —Å–∏–º—É–ª—è—Ü–∏–∏
    - Canvas –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∞–≥–µ–Ω—Ç–æ–≤ –∏ —Å—Ä–µ–¥—ã
    - –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å –∫–æ–Ω—Ç—Ä–æ–ª–∞–º–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
    - –ü–∞–Ω–µ–ª—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
    - –ì—Ä–∞—Ñ–∏–∫–∏ –ø–æ–ø—É–ª—è—Ü–∏–∏ –∏ —ç–Ω–µ—Ä–≥–∏–∏ (Chart.js)
    
    –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
    - Chart.js v4.4.0 (–≥—Ä–∞—Ñ–∏–∫–∏ –ø–æ–ø—É–ª—è—Ü–∏–∏ –∏ —ç–Ω–µ—Ä–≥–∏–∏)
    
    @author –¶—ã–º–±–∞–ª—é–∫ –ú–∏—Ö–∞–∏–ª
    @version 1.0
-->
<!DOCTYPE html>
<html lang="ru">
<head>
    <!-- –ë–∞–∑–æ–≤—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–∞—è –∂–∏–∑–Ω—å</title>
    
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ CSS —Å—Ç–∏–ª–µ–π -->
    <link rel="stylesheet" href="style.css">
    
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Chart.js –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <div class="container">
        
        <!-- ========== –®–ê–ü–ö–ê –°–ê–ô–¢–ê ========== -->
        <header class="header">
            <div>
                <h1>–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–∞—è –∂–∏–∑–Ω—å</h1>
                <!-- –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–∏–º—É–ª—è—Ü–∏–∏ -->
                <p style="margin-top: 8px; font-size: 14px; color: var(--color-text-secondary); max-width: 800px; margin-left: auto; margin-right: auto; line-height: 1.5;">
                    –°–∏–º—É–ª—è—Ç–æ—Ä —ç–≤–æ–ª—é—Ü–∏–∏ –∞–≥–µ–Ω—Ç–æ–≤ —Å –∫–æ–Ω–µ—á–Ω—ã–º –∞–≤—Ç–æ–º–∞—Ç–æ–º –ø–æ–≤–µ–¥–µ–Ω–∏—è. 
                    –ú—É—Ç–∞—Ü–∏–∏, –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –æ—Ç–±–æ—Ä –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ø—É–ª—è—Ü–∏–æ–Ω–Ω–æ–π –¥–∏–Ω–∞–º–∏–∫–∏.
                </p>
            </div>
            <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã (—Å–≤–µ—Ç–ª–∞—è/—Ç—ë–º–Ω–∞—è) -->
            <button id="themeToggle" class="btn btn--outline theme-toggle">üåô –¢—ë–º–Ω–∞—è —Ç–µ–º–∞</button>
        </header>

        <!-- ========== –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ ========== -->
        <div class="main-content">
            
            <!-- –û–ë–õ–ê–°–¢–¨ –°–ò–ú–£–õ–Ø–¶–ò–ò -->
            <!-- Canvas –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∞–≥–µ–Ω—Ç–æ–≤, –µ–¥—ã, –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π –∏ —è–¥–∞ -->
            <div class="simulation-area">
                <canvas id="simulationCanvas" width="1200" height="900"></canvas>
            </div>

            <!-- ========== –ë–û–ö–û–í–ê–Ø –ü–ê–ù–ï–õ–¨ –° –£–ü–†–ê–í–õ–ï–ù–ò–ï–ú ========== -->
            <div class="sidebar">
                
                <!-- –ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø –°–ò–ú–£–õ–Ø–¶–ò–ï–ô -->
                <div class="control-panel card">
                    <div class="cardheader">
                        <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h3>
                    </div>
                    <div class="cardbody">
                        <div class="controls-grid">
                            <!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞/–ø–∞—É–∑—ã —Å–∏–º—É–ª—è—Ü–∏–∏ -->
                            <button id="playPauseBtn" class="btn btn--primary">–ó–∞–ø—É—Å–∫</button>
                            <!-- –ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞ —Å–∏–º—É–ª—è—Ü–∏–∏ –∫ –Ω–∞—á–∞–ª—å–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º -->
                            <button id="resetBtn" class="btn btn--secondary">–°–±—Ä–æ—Å</button>
                        </div>
                    </div>
                </div>

                <!-- –ü–ê–ù–ï–õ–¨ –ù–ê–°–¢–†–û–ô–ö–ò –ü–û–ü–£–õ–Ø–¶–ò–ô -->
                <div class="population-panel card">
                    <div class="cardheader">
                        <h3>–ü–æ–ø—É–ª—è—Ü–∏–∏</h3>
                    </div>
                    <div class="cardbody">
                        <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç—Ä–∞–≤–æ—è–¥–Ω—ã—Ö -->
                        <div class="form-group">
                            <label class="form-label">–¢—Ä–∞–≤–æ—è–¥–Ω—ã–µ</label>
                            <input type="number" id="herbivoreCount" class="form-control" 
                                   min="10" max="300" step="10" value="15">
                        </div>
                        
                        <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ö–∏—â–Ω–∏–∫–æ–≤ -->
                        <div class="form-group">
                            <label class="form-label">–•–∏—â–Ω–∏–∫–∏</label>
                            <input type="number" id="predatorCount" class="form-control" 
                                   min="5" max="150" step="5" value="8">
                        </div>
                        
                        <!-- –ö–Ω–æ–ø–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ–ø—É–ª—è—Ü–∏–∏ -->
                        <button id="applyPopulation" class="btn btn--primary">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                    </div>
                </div>

                <!-- –ü–ê–ù–ï–õ–¨ –ö–û–ú–ü–û–ù–ï–ù–¢–û–í –°–†–ï–î–´ -->
                <!-- –ß–µ–∫–±–æ–∫—Å—ã –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π –∏ —è–¥–∞ -->
                <div class="environment-panel card">
                    <div class="cardheader">
                        <h3>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—Ä–µ–¥—ã</h3>
                    </div>
                    <div class="cardbody">
                        <!-- –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π -->
                        <div class="toggle-group">
                            <input type="checkbox" id="obstaclesToggle" class="toggle-input">
                            <label for="obstaclesToggle" class="toggle-label">–ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è</label>
                        </div>
                        
                        <!-- –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ —è–¥–∞ -->
                        <div class="toggle-group">
                            <input type="checkbox" id="poisonToggle" class="toggle-input">
                            <label for="poisonToggle" class="toggle-label">–Ø–¥</label>
                        </div>
                    </div>
                </div>

                <!-- –ü–ê–ù–ï–õ–¨ –ü–ê–†–ê–ú–ï–¢–†–û–í –°–ò–ú–£–õ–Ø–¶–ò–ò -->
                <div class="simulation-params card">
                    <div class="cardheader">
                        <h3>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏–º—É–ª—è—Ü–∏–∏</h3>
                    </div>
                    <div class="cardbody">
                        <!-- –°–ª–∞–π–¥–µ—Ä —Å–∫–æ—Ä–æ—Å—Ç–∏ —Å–∏–º—É–ª—è—Ü–∏–∏ (0.1x - 5.0x) -->
                        <div class="param-group">
                            <label class="param-label">
                                –°–∫–æ—Ä–æ—Å—Ç—å: <span id="speedValue">1.0x</span>
                            </label>
                            <input type="range" id="speedSlider" class="param-slider" 
                                   min="0.1" max="5" step="0.1" value="1">
                        </div>
                        
                        <!-- –°–ª–∞–π–¥–µ—Ä —Å–∏–ª—ã –º—É—Ç–∞—Ü–∏–∏ (0.0 - 0.2) -->
                        <!-- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞—Å–∫–æ–ª—å–∫–æ —Å–∏–ª—å–Ω–æ –ø—Ä–∏–∑–Ω–∞–∫–∏ –ø–æ—Ç–æ–º–∫–æ–≤ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª–µ–π -->
                        <div class="param-group">
                            <label class="param-label">
                                –ú—É—Ç–∞—Ü–∏—è: <span id="mutationValue">0.05</span>
                            </label>
                            <input type="range" id="mutationSlider" class="param-slider" 
                                   min="0" max="0.2" step="0.01" value="0.05">
                        </div>
                    </div>
                </div>

                <!-- –ü–ê–ù–ï–õ–¨ –ü–ê–†–ê–ú–ï–¢–†–û–í –ï–î–´ –ò –Ø–î–ê -->
                <div class="food-params card">
                    <div class="cardheader">
                        <h3>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –µ–¥—ã</h3>
                    </div>
                    <div class="cardbody">
                        <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –µ–¥—ã –Ω–∞ –∫–∞—Ä—Ç–µ -->
                        <div class="form-group">
                            <label class="form-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: <span id="foodCountValue">80</span></label>
                            <input type="range" id="foodCount" class="param-slider" 
                                   min="20" max="200" step="10" value="80">
                        </div>
                        
                        <!-- –≠–Ω–µ—Ä–≥–∏—è, –ø–æ–ª—É—á–∞–µ–º–∞—è –æ—Ç –æ–¥–Ω–æ–π –µ–¥–∏–Ω–∏—Ü—ã –µ–¥—ã -->
                        <div class="form-group">
                            <label class="form-label">–≠–Ω–µ—Ä–≥–∏—è –µ–¥—ã: <span id="foodEnergyValue">50</span></label>
                            <input type="range" id="foodEnergy" class="param-slider" 
                                   min="10" max="150" step="5" value="50">
                        </div>
                        
                        <!-- –£—Ä–æ–Ω –æ—Ç —è–¥–∞ –ø—Ä–∏ –∫–æ–Ω—Ç–∞–∫—Ç–µ -->
                        <div class="form-group">
                            <label class="form-label">–£—Ä–æ–Ω —è–¥–∞: <span id="poisonDamageValue">25</span></label>
                            <input type="range" id="poisonDamage" class="param-slider" 
                                   min="5" max="100" step="5" value="25">
                        </div>
                    </div>
                </div>

                <!-- –ü–ê–ù–ï–õ–¨ –ü–ê–†–ê–ú–ï–¢–†–û–í –ê–ì–ï–ù–¢–û–í -->
                <div class="agent-params card">
                    <div class="cardheader">
                        <h3>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–≥–µ–Ω—Ç–æ–≤</h3>
                    </div>
                    <div class="cardbody">
                        <!-- –†–∞–∑–º–µ—Ä –∞–≥–µ–Ω—Ç–æ–≤ (—Ä–∞–¥–∏—É—Å –∫—Ä—É–≥–∞) -->
                        <div class="form-group">
                            <label class="form-label">–†–∞–∑–º–µ—Ä: <span id="agentSizeValue">10</span></label>
                            <input type="range" id="agentSize" class="param-slider" 
                                   min="5" max="20" step="1" value="10">
                        </div>
                        
                        <!-- –ß–µ–∫–±–æ–∫—Å –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –∞–≤—Ç–æ–º–∞—Ç–∞ –Ω–∞–¥ –∞–≥–µ–Ω—Ç–∞–º–∏ -->
                        <div class="toggle-group">
                            <input type="checkbox" id="showStates" class="toggle-input">
                            <label for="showStates" class="toggle-label">–ü–æ–∫–∞–∑–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è</label>
                        </div>
                    </div>
                </div>

                <!-- –ü–ê–ù–ï–õ–¨ –°–¢–ê–¢–ò–°–¢–ò–ö–ò –í –†–ï–ê–õ–¨–ù–û–ú –í–†–ï–ú–ï–ù–ò -->
                <div class="stats-panel card">
                    <div class="cardheader">
                        <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                    </div>
                    <div class="cardbody">
                        <div class="stats-grid">
                            <!-- –ù–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤) -->
                            <div class="stat-item">
                                <span class="stat-label">–ü–æ–∫–æ–ª–µ–Ω–∏–µ:</span>
                                <span id="generationStat" class="stat-value">1</span>
                            </div>
                            
                            <!-- –¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–≤–æ—è–¥–Ω—ã—Ö -->
                            <div class="stat-item">
                                <span class="stat-label">–¢—Ä–∞–≤–æ—è–¥–Ω—ã–µ:</span>
                                <span id="herbivoreStat" class="stat-value">0</span>
                            </div>
                            
                            <!-- –¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ö–∏—â–Ω–∏–∫–æ–≤ -->
                            <div class="stat-item">
                                <span class="stat-label">–•–∏—â–Ω–∏–∫–∏:</span>
                                <span id="predatorStat" class="stat-value">0</span>
                            </div>
                            
                            <!-- –¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –µ–¥—ã –Ω–∞ –∫–∞—Ä—Ç–µ -->
                            <div class="stat-item">
                                <span class="stat-label">–ï–¥–∞:</span>
                                <span id="foodStat" class="stat-value">0</span>
                            </div>
                            
                            <!-- –¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π -->
                            <div class="stat-item">
                                <span class="stat-label">–ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è:</span>
                                <span id="obstacleStat" class="stat-value">0</span>
                            </div>
                            
                            <!-- –¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —è–¥–∞ –Ω–∞ –∫–∞—Ä—Ç–µ -->
                            <div class="stat-item">
                                <span class="stat-label">–Ø–¥:</span>
                                <span id="poisonStat" class="stat-value">0</span>
                            </div>
                            
                            <!-- –í—Ä–µ–º—è —Å–∏–º—É–ª—è—Ü–∏–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö -->
                            <div class="stat-item">
                                <span class="stat-label">–í—Ä–µ–º—è:</span>
                                <span id="timeStat" class="stat-value">0</span>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- ========== –°–ï–ö–¶–ò–Ø –ì–†–ê–§–ò–ö–û–í ========== -->
        <div class="charts-container">
            
            <!-- –ì–†–ê–§–ò–ö –ü–û–ü–£–õ–Ø–¶–ò–ò -->
            <!-- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç—Ä–∞–≤–æ—è–¥–Ω—ã—Ö –∏ —Ö–∏—â–Ω–∏–∫–æ–≤ –≤–æ –≤—Ä–µ–º–µ–Ω–∏ -->
            <div class="chart-wrapper card">
                <div class="cardheader">
                    <h3>–ü–æ–ø—É–ª—è—Ü–∏—è</h3>
                </div>
                <div class="cardbody chart-body">
                    <!-- Canvas –¥–ª—è Chart.js –≥—Ä–∞—Ñ–∏–∫–∞ –ø–æ–ø—É–ª—è—Ü–∏–∏ -->
                    <canvas id="populationChart"></canvas>
                </div>
            </div>

            <!-- –ì–†–ê–§–ò–ö –°–†–ï–î–ù–ï–ô –≠–ù–ï–†–ì–ò–ò -->
            <!-- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–π —ç–Ω–µ—Ä–≥–∏–∏ —Ç—Ä–∞–≤–æ—è–¥–Ω—ã—Ö –∏ —Ö–∏—â–Ω–∏–∫–æ–≤ –≤–æ –≤—Ä–µ–º–µ–Ω–∏ -->
            <div class="chart-wrapper card">
                <div class="cardheader">
                    <h3>–°—Ä–µ–¥–Ω—è—è —ç–Ω–µ—Ä–≥–∏—è</h3>
                </div>
                <div class="cardbody chart-body">
                    <!-- Canvas –¥–ª—è Chart.js –≥—Ä–∞—Ñ–∏–∫–∞ —ç–Ω–µ—Ä–≥–∏–∏ -->
                    <canvas id="energyChart"></canvas>
                </div>
            </div>

        </div>
    </div>

    <!-- ========== –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï JAVASCRIPT –ú–û–î–£–õ–ï–ô ========== -->
    <!-- type="module" –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å import/export ES6 -->
    <script type="module" src="js/simulation.js"></script>
</body>
</html>
