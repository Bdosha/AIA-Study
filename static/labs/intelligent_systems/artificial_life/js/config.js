/**
 * Файл: config.js
 * Описание: Центральная конфигурация симуляции искусственной жизни
 * 
 * Содержит все настраиваемые параметры для:
 * - Размеров canvas
 * - Физики агентов (скорость, силы, энергия)
 * - Размножения и эволюции
 * - Компонентов среды (еда, яд, препятствия)
 * - Параметров симуляции (скорость, мутации)
 * 
 * Изменение значений в этом файле позволяет балансировать симуляцию
 * без редактирования логики в других файлах.
 * 
 * @author Ваше имя
 * @version 1.0
 */

/**
 * Главный объект конфигурации
 * Экспортируется для использования во всех модулях проекта
 * 
 * @constant {Object} CONFIG
 */
export const CONFIG = {
    /* ========================================
       ПАРАМЕТРЫ CANVAS
       ======================================== */
    
    /**
     * Настройки холста для отрисовки симуляции
     * 
     * @property {Object} canvas
     * @property {number} canvas.width - Ширина canvas в пикселях
     * @property {number} canvas.height - Высота canvas в пикселях
     */
    canvas: {
        width: 1200,    // Ширина области симуляции
        height: 900     // Высота области симуляции
    },
    
    /* ========================================
       ПАРАМЕТРЫ АГЕНТОВ
       ======================================== */
    
    /**
     * Настройки агентов (травоядных и хищников)
     * 
     * @property {Object} agents
     */
    agents: {
        /**
         * Параметры травоядных агентов
         * 
         * @property {Object} herbivore
         * @property {number} herbivore.initialCount - Начальное количество при старте
         * @property {number} herbivore.maxSpeed - Максимальная скорость движения (пикс/кадр)
         * @property {number} herbivore.maxForce - Максимальная сила рулевого управления (ограничивает резкость поворотов)
         * @property {number} herbivore.size - Базовый размер (радиус в пикселях)
         * @property {number} herbivore.initialEnergy - Начальная энергия при создании
         * @property {number} herbivore.maxEnergy - Максимальный запас энергии
         * @property {number} herbivore.reproductionThreshold - Минимальная энергия для размножения
         * @property {number} herbivore.metabolismCost - Трата энергии на метаболизм за кадр (базовая стоимость жизни)
         * @property {number} herbivore.movementCost - Трата энергии на движение (множитель скорости)
         * @property {Object} herbivore.forces - Множители сил для steering behaviors
         * @property {number} herbivore.forces.seek - Сила преследования еды (0.0-1.0, чем выше - тем агрессивнее ищет)
         * @property {number} herbivore.forces.avoid - Сила избегания хищников (0.0-2.0, чем выше - тем дальше убегает)
         * @property {number} herbivore.forces.wander - Сила случайного блуждания (0.0-0.5, влияет на хаотичность движения)
         */
        herbivore: {
            initialCount: 15,               // Начальная популяция травоядных
            maxSpeed: 2.0,                  // Скорость (базовая, мутирует в диапазоне 1.8-2.2)
            maxForce: 0.3,                  // Сила поворота (чем ниже, тем плавнее движение)
            size: 10,                       // Размер тела (базовый, мутирует в диапазоне 8.5-11.5)
            initialEnergy: 300,             // Стартовая энергия
            maxEnergy: 500,                 // Максимум энергии (ограничение накопления)
            reproductionThreshold: 300,     // Порог для размножения (должен быть сыт)
            metabolismCost: 0.15,           // Трата на дыхание/метаболизм за кадр
            movementCost: 0.05,             // Дополнительная трата пропорциональная скорости
            forces: {
                seek: 0.4,                  // Насколько сильно идёт к еде
                avoid: 1.2,                 // Насколько сильно убегает от хищников
                wander: 0.1                 // Случайность движения (для разнообразия)
            }
        },
        
        /**
         * Параметры хищников
         * 
         * @property {Object} predator
         * @property {number} predator.initialCount - Начальное количество хищников
         * @property {number} predator.maxSpeed - Максимальная скорость (немного выше травоядных)
         * @property {number} predator.maxForce - Максимальная сила рулевого управления
         * @property {number} predator.size - Базовый размер (больше травоядных)
         * @property {number} predator.initialEnergy - Начальная энергия
         * @property {number} predator.maxEnergy - Максимальный запас энергии
         * @property {number} predator.reproductionThreshold - Минимальная энергия для размножения (выше чем у травоядных)
         * @property {number} predator.metabolismCost - Трата энергии на метаболизм за кадр
         * @property {number} predator.movementCost - Трата энергии на движение
         * @property {number} predator.huntForce - Сила охоты (множитель при преследовании добычи)
         */
        predator: {
            initialCount: 8,                // Начальная популяция хищников (меньше травоядных)
            maxSpeed: 2.2,                  // Чуть быстрее травоядных (преимущество охотника)
            maxForce: 0.3,                  // Сила поворота
            size: 12,                       // Больше травоядных (визуальное различие)
            initialEnergy: 300,             // Стартовая энергия
            maxEnergy: 500,                 // Максимум энергии
            reproductionThreshold: 400,     // Выше чем у травоядных (труднее размножаться)
            metabolismCost: 0.15,           // Трата на метаболизм (такая же как у травоядных)
            movementCost: 0.05,             // Трата на движение
            huntForce: 0.6                  // Сила охоты (насколько агрессивно преследует)
        }
    },
    
    /* ========================================
       ПАРАМЕТРЫ ЕДЫ
       ======================================== */
    
    /**
     * Настройки еды (источник энергии для травоядных)
     * 
     * @property {Object} food
     * @property {number} food.maxCount - Максимальное количество еды на карте
     * @property {number} food.spawnThreshold - Порог, ниже которого спавнится новая еда
     * @property {number} food.size - Размер (радиус) одной единицы еды
     * @property {number} food.energy - Количество энергии, даваемое при поедании
     * @property {number} food.spawnRate - Вероятность спавна за кадр (0.0-1.0)
     */
    food: {
        maxCount: 80,           // Максимум еды одновременно на карте
        spawnThreshold: 60,     // Если еды < 60, начинается спавн новой
        size: 6,                // Размер кружочка еды
        energy: 60,             // Сколько энергии даёт одна еда
        spawnRate: 0.8          // Вероятность спавна (80% шанс за кадр)
    },
    
    /* ========================================
       ПАРАМЕТРЫ ПРЕПЯТСТВИЙ
       ======================================== */
    
    /**
     * Настройки препятствий (непроходимые объекты)
     * 
     * @property {Object} obstacles
     * @property {number} obstacles.count - Количество препятствий на карте
     * @property {number} obstacles.minSize - Минимальный размер препятствия
     * @property {number} obstacles.maxSize - Максимальный размер препятствия
     */
    obstacles: {
        count: 10,          // Количество препятствий
        minSize: 30,        // Минимальный размер (пикс)
        maxSize: 80         // Максимальный размер (пикс)
    },
    
    /* ========================================
       ПАРАМЕТРЫ ЯДА
       ======================================== */
    
    /**
     * Настройки яда (опасные объекты, наносящие урон)
     * 
     * Яд создаёт давление естественного отбора:
     * - Агенты с низкой poisonSensitivity часто погибают от яда
     * - Агенты с высокой poisonSensitivity выживают чаще
     * Это приводит к эволюции чувствительности к яду
     * 
     * @property {Object} poison
     * @property {number} poison.count - Количество ядовитых объектов на карте
     * @property {number} poison.size - Размер (радиус) яда
     * @property {number} poison.damage - Урон, наносимый при контакте
     */
    poison: {
        count: 8,           // Количество яда на карте
        size: 8,            // Размер кружочка яда
        damage: 25          // Урон при касании (отнимается от energy)
    },
    
    /* ========================================
       ПАРАМЕТРЫ СИМУЛЯЦИИ
       ======================================== */
    
    /**
     * Общие настройки симуляции
     * 
     * @property {Object} simulation
     * @property {number} simulation.speed - Скорость симуляции (1.0 = нормальная, 2.0 = двойная)
     * @property {number} simulation.mutationRate - Сила мутаций при размножении (0.0-1.0)
     *                                              - 0.0 = потомки идентичны родителю
     *                                              - 0.05 = слабые мутации (эволюция медленная)
     *                                              - 0.2 = сильные мутации (эволюция быстрая)
     */
    simulation: {
        speed: 1.0,             // Скорость симуляции (контролируется слайдером в UI)
        mutationRate: 0.05      // Сила мутаций (малые значения = плавная эволюция)
    },
    
    /* ========================================
       ПАРАМЕТРЫ СРЕДЫ
       ======================================== */
    
    /**
     * Настройки окружающей среды
     * 
     * @property {Object} environment
     * @property {number} environment.randomMovementInterval - Интервал в кадрах между добавлением случайной силы
     *                                                         Предотвращает застревание агентов в углах
     *                                                         120 кадров ≈ 2 секунды при 60 FPS
     */
    environment: {
        randomMovementInterval: 120     // Каждые 120 кадров добавляется случайный толчок
    }
};
